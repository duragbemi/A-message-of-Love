;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7e3579db-c2b5-075d-dd78-290dffcf7db2")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,417403,e=>{"use strict";var t=e.i(907019);e.s(["default",0,t])},32448,e=>{"use strict";var t=e.i(817729);e.i(56031);var s=e.i(237948);let a=["email must be an email","Password is known to be weak and easy to guess, please choose a different one","A user with this email already exists","Password should contain at least one character of each","You attempted to send email to an inactive recipient","New password should be different from the old password","Invalid TOTP code entered","No SSO provider assigned for this domain","The following organization members have reached their maximum limits for the number of active free projects","db_pass must be longer than or equal to 4 characters","There are overdue invoices in the organization(s)","name should not contain a . string","Project creation in the Supabase dashboard is disabled for this Vercel-managed organization.","Your account, which is handled by the Fly Supabase extension, cannot access this endpoint.","already exists in your organization."];function i(e,t){if(e instanceof Error,e.message){var a,i,n,o;if(e instanceof s.ResponseError)return void function(e,t){let{code:s,message:a,requestPathname:i}=e;i&&s?s>=500&&r({context:t,message:`requestPathname ${i} w/ message: ${a}`}):r({message:`Response Error (no code or requestPathname) w/ message: ${e.message}`,context:t})}(e,t);if(e instanceof Error){let s;return void(a=e,i=t,(s=a.message)&&r({message:s,context:i}))}n=e,o=t,n&&"object"==typeof n&&"message"in n&&"string"==typeof n.message&&r({message:n.message,context:o})}}function r({message:e,context:s}){a.some(t=>e.includes(t))||t.captureMessage(`[CRITICAL][${s}] Failed: ${e}`)}e.s(["captureCriticalError",()=>i])},675066,e=>{"use strict";var t=e.i(478902),s=e.i(356003),a=e.i(896975),i=e.i(210419),r=e.i(271226),n=e.i(389959);e.i(128328);var o=e.i(704206),l=e.i(657588),c=e.i(513826),u=e.i(912793),d=e.i(10429),f=e.i(892354);e.i(287509);var h=e.i(221383),h=h;e.s(["default",0,({heading:e,subheading:m,showDisclaimer:g=!0,logoLinkToMarketingSite:p=!1,children:x})=>{let y=(0,r.useRouter)(),b=(0,s.useQueryClient)(),{resolvedTheme:v}=(0,a.useTheme)(),j=(0,l.useFlag)("ongoingIncident"),{dashboardAuthShowTestimonial:w,brandingLargeLogo:_,dashboardAuthShowTos:k}=(0,u.useIsFeatureEnabled)(["dashboard_auth:show_testimonial","branding:large_logo","dashboard_auth:show_tos"]);(0,n.useEffect)(()=>{f.auth.initialize().then(async({error:e})=>{if(!e&&await (0,o.getAccessToken)()){let{data:e,error:t}=await f.auth.mfa.getAuthenticatorAssuranceLevel();if(!t){if(e){if("/sign-in-mfa"===y.pathname)return;if(e.currentLevel!==e.nextLevel){let e=(0,f.buildPathWithParams)("/sign-in-mfa");y.replace(e);return}}await b.resetQueries(),y.push((0,f.getReturnToPath)())}}}).catch(()=>{})},[]);let[S,A]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=Math.random()*h.default.reduce((e,t)=>e+(t.weight??1),0),t=0;for(let s of h.default)if(e<=(t+=s.weight??1)){A(s);break}},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"relative flex flex-col bg-alternative min-h-screen",children:[(0,t.jsx)("div",{className:`absolute top-0 w-full px-8 mx-auto sm:px-6 lg:px-8 ${j?"mt-14":"mt-6"}`,children:(0,t.jsxs)("nav",{className:"relative flex items-center justify-between sm:h-10",children:[(0,t.jsx)("div",{className:"flex items-center flex-grow flex-shrink-0 lg:flex-grow-0",children:(0,t.jsx)("div",{className:"flex items-center justify-between w-full md:w-auto",children:(0,t.jsx)(i.default,{href:p?"https://supabase.com":"/organizations",children:(0,t.jsx)("img",{src:v?.includes("dark")?`${d.BASE_PATH}/img/supabase-dark.svg`:`${d.BASE_PATH}/img/supabase-light.svg`,alt:"Supabase Logo",className:_?"h-[48px]":"h-[24px]"})})})}),(0,t.jsx)("div",{className:"items-center hidden space-x-3 md:ml-10 md:flex md:pr-4",children:(0,t.jsx)(c.DocsButton,{abbrev:!1,href:`${d.DOCS_URL}`})})]})}),(0,t.jsxs)("div",{className:"flex flex-1 h-full",children:[(0,t.jsxs)("main",{className:"flex flex-col items-center flex-1 flex-shrink-0 px-5 pt-16 pb-8 border-r shadow-lg bg-studio border-default",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-center w-[330px] sm:w-[384px]",children:[(0,t.jsxs)("div",{className:"mb-10",children:[(0,t.jsx)("h1",{className:"mt-8 mb-2 lg:text-3xl",children:e}),(0,t.jsx)("h2",{className:"text-sm text-foreground-light",children:m})]}),x]}),g&&k&&(0,t.jsx)("div",{className:"text-center text-balance",children:(0,t.jsxs)("p",{className:"text-xs text-foreground-lighter sm:mx-auto sm:max-w-sm",children:["By continuing, you agree to Supabase’s"," ",(0,t.jsx)(i.default,{href:"https://supabase.com/terms",className:"underline hover:text-foreground-light",children:"Terms of Service"})," ","and"," ",(0,t.jsx)(i.default,{href:"https://supabase.com/privacy",className:"underline hover:text-foreground-light",children:"Privacy Policy"}),", and to receive periodic emails with updates."]})})]}),(0,t.jsx)("aside",{className:"flex-col items-center justify-center flex-1 flex-shrink hidden basis-1/4 xl:flex",children:null!==S&&w&&(0,t.jsxs)("div",{className:"relative flex flex-col gap-6",children:[(0,t.jsx)("div",{className:"absolute select-none -top-12 -left-11",children:(0,t.jsx)("span",{className:"text-[160px] leading-none text-foreground-muted/30",children:"“"})}),(0,t.jsx)("blockquote",{className:"z-10 max-w-lg text-3xl",children:S.text}),(0,t.jsxs)("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4",children:[(0,t.jsx)("img",{src:`https://supabase.com${S.img_url}`,alt:S.handle,className:"w-12 h-12 rounded-full"}),(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsxs)("cite",{className:"not-italic font-medium text-foreground-light whitespace-nowrap",children:["@",S.handle]})})]})]})})]})]})})}],675066)},863562,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},378693,e=>{"use strict";var t=e.i(817729),s=e.i(38429),a=e.i(355901),i=e.i(234745);async function r(){let{error:e}=await (0,i.post)("/platform/profile/audit-login");e&&(0,i.handleError)(e)}e.s(["useAddLoginEvent",0,({onSuccess:e,onError:i,...n}={})=>(0,s.useMutation)({mutationFn:e=>r(),async onSuccess(t,s,a){await e?.(t,s,a)},async onError(e,s,r){t.captureException(Error("Failed to add login event to user's audit log",{cause:e})),void 0===i?a.toast.error(`Failed to add login event: ${e.message}`):i(e,s,r)},...n})])},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function s(e,t={}){let{maxDepth:a=3,redaction:i="[REDACTED]",truncationNotice:r="[REDACTED: max depth reached]",sensitiveKeys:n=[]}=t,o=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...n].map(e=>e.toLowerCase())),l=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],c=new WeakMap;function u(e){let t=e;for(let{re:e}of l)t=t.replace(e,i);return t}function d(e){return o.has(String(e).toLowerCase())}return e.map(e=>(function e(t,s){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return u(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(s>=a)return r;if("object"==typeof t){if(c.has(t))return"[Circular]";if(Array.isArray(t)){let a=[];c.set(t,a);for(let i=0;i<t.length;i++)a[i]=e(t[i],s+1);return a}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let a={};for(let[r,n]of(c.set(t,a),Object.entries(t)))d(r)?a[r]=i:a[r]=e(n,s+1);return a}if(t instanceof Map){let a=[];for(let[r,n]of(c.set(t,a),t.entries())){let t=d(r)?i:e(r,s+1),o=d(r)?i:e(n,s+1);a.push([t,o])}return a}if(t instanceof Set){let a=[];for(let i of(c.set(t,a),t.values()))a.push(e(i,s+1));return a}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:u(t.message),stack:r};return c.set(t,e),e}try{return u(String(t))}catch{return u(Object.prototype.toString.call(t))}}return u(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>s,"sanitizeUrlHashParams",()=>t])},261996,e=>{"use strict";var t=e.i(38429),s=e.i(356003),a=e.i(355901),i=e.i(32448),r=e.i(892354),n=e.i(61837);let o=async e=>{let{error:t,data:s}=await r.auth.mfa.challengeAndVerify(e);if(t)throw t;return s};e.s(["useMfaChallengeAndVerifyMutation",0,({onSuccess:e,onError:r,...l}={})=>{let c=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>{let{refreshFactors:t,...s}=e;return o(s)},async onSuccess(t,s,a){let i=s.refreshFactors??!0;await Promise.all([...i?[c.invalidateQueries({queryKey:n.profileKeys.mfaFactors()})]:[],c.invalidateQueries({queryKey:n.profileKeys.aaLevel()})]),await e?.(t,s,a)},async onError(e,t,s){void 0===r?a.toast.error(`Failed to sign in: ${e.message}`):r(e,t,s),(0,i.captureCriticalError)(e,"sign in via MFA")},...l})}])},917836,e=>{"use strict";var t=e.i(242882),s=e.i(892354),a=e.i(61837);async function i(){let{error:e,data:t}=await s.auth.mfa.listFactors();if(e)throw e;return t}e.s(["useMfaListFactorsQuery",0,({enabled:e=!0,...s}={})=>(0,t.useQuery)({queryKey:a.profileKeys.mfaFactors(),queryFn:()=>i(),staleTime:18e5,...s})])},541491,e=>{"use strict";var t=e.i(478902),s=e.i(532728),a=e.i(356003),i=e.i(250503),r=e.i(210419),n=e.i(271226),o=e.i(389959),l=e.i(408891),c=e.i(417403),u=e.i(902858);e.i(128328);var d=e.i(704206),f=e.i(567558),h=e.i(261996),m=e.i(917836),g=e.i(601116),p=e.i(892354),x=e.i(837710),y=e.i(428353),b=e.i(24315),v=e.i(61863),j=e.i(378277),w=e.i(538482),_=e.i(108151),k=e.i(196621);let S=c.default.object({code:c.default.string().min(1,"MFA Code is required")}),A="sign-in-mfa-form";e.s(["SignInMfaForm",0,({context:e="sign-in"})=>{let c=(0,n.useRouter)(),N=(0,g.useSignOut)(),E=(0,a.useQueryClient)(),[F,P]=(0,o.useState)(null),T=(0,l.useForm)({resolver:(0,s.zodResolver)(S),defaultValues:{code:""}}),{data:L,error:C,isError:z,isSuccess:R,isPending:M}=(0,m.useMfaListFactorsQuery)(),{mutate:B,isPending:$,isSuccess:q}=(0,h.useMfaChallengeAndVerifyMutation)({onSuccess:async()=>{await E.resetQueries(),"forgot-password"===e?c.push({pathname:"/reset-password",query:c.query}):c.push((0,p.getReturnToPath)())}}),I=async()=>{await N(),await c.replace("/sign-in")},O=async({code:e})=>{F&&B({factorId:F.id,code:e,refreshFactors:!1})};(0,o.useEffect)(()=>{R&&(0===L.totp.length&&E.resetQueries().then(()=>c.push((0,p.getReturnToPath)())),L.totp.length>0&&P(L.totp[0]))},[L?.totp,R,c,E]);let Q=(0,d.useAuthError)();return Q?(0,t.jsx)(f.default,{error:Q,subject:"Error while signing in",additionalActions:(0,t.jsx)(x.Button,{asChild:!0,type:"default",children:(0,t.jsx)(r.default,{href:"/sign-in",children:"Back to sign in"})})}):(0,t.jsxs)(t.Fragment,{children:[M&&(0,t.jsx)(_.GenericSkeletonLoader,{}),z&&(0,t.jsx)(f.default,{error:C,subject:"Failed to retrieve factors"}),R&&(0,t.jsx)(y.Form_Shadcn_,{...T,children:(0,t.jsxs)("form",{id:A,className:"flex flex-col gap-4",onSubmit:T.handleSubmit(O),children:[(0,t.jsx)(v.FormField_Shadcn_,{name:"code",control:T.control,render:({field:e})=>(0,t.jsx)(w.FormItemLayout,{name:"code",label:F&&L?.totp.length===2?`Code generated by ${F.friendly_name}`:null,children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-foreground-light [&_svg]:stroke-[1.5] [&_svg]:h-[20px] [&_svg]:w-[20px]",children:(0,t.jsx)(i.Lock,{})}),(0,t.jsx)(j.Input_Shadcn_,{id:"code",className:"pl-10",...e,autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",placeholder:"XXXXXX",disabled:$})]})})})},"code"),(0,t.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,t.jsx)(x.Button,{block:!0,type:"outline",size:"large",disabled:$||q,onClick:I,className:"opacity-80 hover:opacity-100 transition",children:"Cancel"}),(0,t.jsx)(x.Button,{block:!0,form:A,htmlType:"submit",size:"large",disabled:$||q,loading:$||q,children:$?"Verifying":q?"Signing in":"Verify"})]})]})}),(0,t.jsxs)("div",{className:"my-8",children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-foreground-light",children:"Unable to sign in?"})," "]}),(0,t.jsxs)("ul",{className:"list-disc pl-6",children:[L?.totp.length===2&&(0,t.jsx)("li",{children:(0,t.jsx)("a",{className:"text-sm text-foreground-light hover:text-foreground cursor-pointer",onClick:()=>P(L.totp.find(e=>e.id!==F?.id)),children:`Authenticate using ${L.totp.find(e=>e.id!==F?.id)?.friendly_name}?`})}),(0,t.jsx)("li",{children:(0,t.jsx)(r.default,{href:"/logout",className:"text-sm transition text-foreground-light hover:text-foreground",children:"Force sign out and clear cookies"})}),(0,t.jsx)("li",{children:(0,t.jsx)(k.SupportLink,{className:"text-sm transition text-foreground-light hover:text-foreground",queryParams:{subject:"Unable to sign in via MFA",category:u.SupportCategories.LOGIN_ISSUES},children:"Reach out to us via support"})})]})]})]})}])},825398,e=>{"use strict";var t=e.i(478902),s=e.i(817729),a=e.i(356003),i=e.i(271226),r=e.i(389959),n=e.i(355901);e.i(128328);var o=e.i(704206),l=e.i(158639),c=e.i(541491),u=e.i(675066),d=e.i(378693),f=e.i(162082),h=e.i(323796),m=e.i(892354),g=e.i(818843);e.s(["default",0,()=>{let e=(0,i.useRouter)(),p=(0,a.useQueryClient)(),{method:x="unknown"}=(0,l.useParams)(),y=(0,h.default)(x),{mutate:b}=(0,f.useSendEventMutation)(),{mutate:v}=(0,d.useAddLoginEvent)(),[j,w]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{m.auth.initialize().then(async({error:t})=>{if(t)return void w(!1);if(await (0,o.getAccessToken)()){let{data:t,error:s}=await m.auth.mfa.getAuthenticatorAssuranceLevel();return s?(n.toast.error(`Failed to retrieve assurance level: ${s.message}. Please try signing in again`),w(!1),e.push({pathname:"/sign-in",query:e.query})):t.currentLevel!==t.nextLevel?void w(!1):(b({action:"sign_in",properties:{category:"account",method:y.current}}),v({}),await p.resetQueries(),e.push((0,m.getReturnToPath)()),void 0)}{let t=(0,m.buildPathWithParams)("/sign-in");e.replace(t);return}}).catch(t=>{s.captureException(t),console.error("Auth initialization error:",t),n.toast.error("Failed to initialize authentication. Please try again."),w(!1),e.push({pathname:"/sign-in",query:e.query})})},[]),j)?(0,t.jsx)("div",{className:"flex flex-col flex-1 bg-alternative h-screen items-center justify-center",children:(0,t.jsx)(g.LogoLoader,{})}):(0,t.jsx)(u.default,{heading:"Two-factor authentication",subheading:"Enter the authentication code from your two-factor authentication app",logoLinkToMarketingSite:!0,children:(0,t.jsx)("div",{className:"flex flex-col gap-5",children:(0,t.jsx)(c.SignInMfaForm,{})})})}])},945030,(e,t,s)=>{let a="/sign-in-mfa";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(825398)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},774186,e=>{e.v(t=>Promise.all(["static/chunks/117b4e5883cfc423.js"].map(t=>e.l(t))).then(()=>t(376359)))},981889,e=>{e.v(t=>Promise.all(["static/chunks/e44cabdf5aea9bff.js"].map(t=>e.l(t))).then(()=>t(242525)))}]);

//# debugId=7e3579db-c2b5-075d-dd78-290dffcf7db2
//# sourceMappingURL=18f03945f8efdeb1.js.map