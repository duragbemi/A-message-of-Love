;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="9190d412-ca1b-3aae-6341-45cd9c6d7d5c")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,776861,e=>{"use strict";var t=e.i(478902),r=e.i(896975),s=e.i(355901),n=e.i(843778),i=e.i(837710),a=e.i(877555);let o=({toastOptions:e,...o})=>{let{theme:u="system"}=(0,r.useTheme)();return(0,t.jsx)(s.Toaster,{icons:{warning:(0,t.jsx)(a.StatusIcon,{variant:"warning"}),error:(0,t.jsx)(a.StatusIcon,{variant:"destructive"}),info:(0,t.jsx)(a.StatusIcon,{variant:"default"})},theme:u,className:"toaster group pointer-events-auto",style:{fontFamily:"inherit"},toastOptions:{unstyled:!0,classNames:{toast:(0,n.cn)("group","toast","w-full","rounded-md","py-3","px-5","flex","gap-2","items-start","font-normal","text-sm","group-[.toaster]:bg-overlay group-[.toaster]:text-foreground group-[.toaster]:border group-[.toaster]:border-overlay group-[.toaster]:shadow-lg"),icon:"mt-0.5",title:"!font-normal",description:"text-xs group-[.toast]:text-foreground-lighter transition-opacity group-data-[expanded=false]:opacity-0 group-data-[front=true]:!opacity-100",actionButton:(0,n.cn)("block",(0,i.buttonVariants)({type:"primary",size:"tiny"})),cancelButton:(0,n.cn)("block",(0,i.buttonVariants)({type:"default",size:"tiny"})),warning:"group toast group-[.toaster]:!bg-warning-200 group-[.toaster]:!border-warning-500",error:"group toast group-[.toaster]:!bg-destructive-200 group-[.toaster]:!border-destructive-500",closeButton:(0,n.cn)("absolute right-2 top-2 rounded-md text-foreground/50 opacity-0 transition-opacity","hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100","group-[.destructive]:text-destructive-300 group-[.destructive]:hover:text-destructive-50","group-[.destructive]:focus:ring-destructive-400 group-[.destructive]:focus:ring-offset-destructive-600","left-auto transform-none bg-transparent border-0 border-transparent hover:!bg-transparent hover:border-transparent"),content:"grow"},duration:4e3,closeButton:!0,...e},cn:n.cn,...o})};e.s(["SONNER_DEFAULT_DURATION",0,4e3,"SonnerToaster",()=>o])},573375,e=>{"use strict";var t=e.i(389959),r=e.i(879148),s=e.i(920474);function n({app:e,onTelemetry:r}){return{sendTelemetry:(0,t.useCallback)((t="search_input",s={},n)=>{r&&r({action:"command_menu_opened",properties:{trigger_type:t,trigger_location:n,app:e},groups:s})},[e,r])}}e.s(["useCommandMenuOpenedTelemetry",0,(e="search_input")=>{let n=(0,r.useCommandMenuTelemetryContext)(),i=(0,s.useCommandMenuOpen)();return(0,t.useCallback)(()=>{if(!i&&n?.onTelemetry){let t={action:"command_menu_opened",properties:{trigger_type:e,location:"user_dropdown_menu",app:n.app},groups:{}};n.onTelemetry(t)}},[i,e,n])},"useCommandMenuTelemetry",()=>n])},463333,770460,e=>{"use strict";var t=e.i(478902),r=e.i(964727),s=e.i(533488),n=e.i(389959);e.i(128328);var i=e.i(657588),a=e.i(947748),o=e.i(681328);let u=[{key:a.LOCAL_STORAGE_KEYS.UI_PREVIEW_UNIFIED_LOGS,name:"New Logs interface",discussionsUrl:"https://github.com/orgs/supabase/discussions/37234",isNew:!0,isPlatformOnly:!0},{key:a.LOCAL_STORAGE_KEYS.UI_PREVIEW_BRANCHING_2_0,name:"Branching via dashboard",discussionsUrl:"https://github.com/orgs/supabase/discussions/branching-2-0",isNew:!0,isPlatformOnly:!0},{key:a.LOCAL_STORAGE_KEYS.UI_PREVIEW_ADVISOR_RULES,name:"Disable Advisor rules",discussionsUrl:void 0,isNew:!0,isPlatformOnly:!0},{key:a.LOCAL_STORAGE_KEYS.UI_PREVIEW_API_SIDE_PANEL,name:"Project API documentation",discussionsUrl:"https://github.com/orgs/supabase/discussions/18038",isNew:!1,isPlatformOnly:!1},{key:a.LOCAL_STORAGE_KEYS.UI_PREVIEW_CLS,name:"Column-level privileges",discussionsUrl:"https://github.com/orgs/supabase/discussions/20295",isNew:!1,isPlatformOnly:!1},{key:a.LOCAL_STORAGE_KEYS.UI_PREVIEW_QUEUE_OPERATIONS,name:"Queue table operations",discussionsUrl:void 0,isNew:!0,isPlatformOnly:!1}];e.s(["FEATURE_PREVIEWS",0,u],770460);let l=(0,n.createContext)({flags:o.EMPTY_OBJ,onUpdateFlag:r.default}),c=()=>(0,n.useContext)(l);e.s(["FeaturePreviewContextProvider",0,({children:e})=>{let{hasLoaded:r}=(0,n.useContext)(i.FeatureFlagContext),[s,a]=(0,n.useState)(()=>u.reduce((e,t)=>({...e,[t.key]:!1}),{}));return(0,n.useEffect)(()=>{a(u.reduce((e,t)=>{let r=(t.key,!1),s=localStorage.getItem(t.key);return{...e,[t.key]:s?"true"===s:r}},{}))},[r]),(0,t.jsx)(l.Provider,{value:{flags:s,onUpdateFlag:(e,t)=>{window.localStorage.setItem(e,t.toString()),a({...s,[e]:t})}},children:e})},"useFeaturePreviewContext",0,c,"useFeaturePreviewModal",0,()=>{let[e,t]=(0,s.useQueryState)("featurePreviewModal"),r=(0,i.useFlag)("gitlessBranching"),a=(0,i.useFlag)("advisorRules"),o=(0,i.useFlag)("unifiedLogs"),l=e?.trim()??null,c=null!==l,h=(0,n.useCallback)(e=>{switch(e.key){case"supabase-ui-branching-2-0":return r;case"supabase-ui-advisor-rules":return a;case"supabase-ui-preview-unified-logs":return o;default:return!0}},[r,a,o]),f=l||u.filter(e=>h(e))[0].key,d=(0,n.useCallback)(e=>{t(e)},[t]),p=(0,n.useCallback)(()=>{d(f)},[d,f]),y=(0,n.useCallback)(()=>{t(null)},[t]),m=(0,n.useCallback)(()=>{c?y():p()},[c,p,y]);return(0,n.useMemo)(()=>({showFeaturePreviewModal:c,selectedFeatureKey:f,selectFeaturePreview:d,openFeaturePreviewModal:p,closeFeaturePreviewModal:y,toggleFeaturePreviewModal:m,isFeaturePreviewReleasedToPublic:h}),[c,f,d,p,y,m,h])},"useIsAPIDocsSidePanelEnabled",0,()=>{let{flags:e}=c();return e[a.LOCAL_STORAGE_KEYS.UI_PREVIEW_API_SIDE_PANEL]},"useIsAdvisorRulesEnabled",0,()=>{let{flags:e}=c();return e[a.LOCAL_STORAGE_KEYS.UI_PREVIEW_ADVISOR_RULES]},"useIsBranching2Enabled",0,()=>{let{flags:e}=c();return e[a.LOCAL_STORAGE_KEYS.UI_PREVIEW_BRANCHING_2_0]},"useIsColumnLevelPrivilegesEnabled",0,()=>{let{flags:e}=c();return e[a.LOCAL_STORAGE_KEYS.UI_PREVIEW_CLS]},"useIsQueueOperationsEnabled",0,()=>{let{flags:e}=c();return e[a.LOCAL_STORAGE_KEYS.UI_PREVIEW_QUEUE_OPERATIONS]},"useUnifiedLogsPreview",0,()=>{let{flags:e,onUpdateFlag:t}=c();return{isEnabled:e[a.LOCAL_STORAGE_KEYS.UI_PREVIEW_UNIFIED_LOGS],enable:()=>t(a.LOCAL_STORAGE_KEYS.UI_PREVIEW_UNIFIED_LOGS,!0),disable:()=>t(a.LOCAL_STORAGE_KEYS.UI_PREVIEW_UNIFIED_LOGS,!1)}}],463333)},263787,e=>{"use strict";let t=(0,e.i(388019).default)("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);e.s(["FlaskConical",()=>t],263787)},488194,(e,t,r)=>{e.e,t.exports=function(e,t,r){e=e||{};var s=t.prototype,n={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,r,n){return s.fromToBase(e,t,r,n)}r.en.relativeTime=n,s.fromToBase=function(t,s,i,a,o){for(var u,l,c,h=i.$locale().relativeTime||n,f=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],d=f.length,p=0;p<d;p+=1){var y=f[p];y.d&&(u=a?r(t).diff(i,y.d,!0):i.diff(t,y.d,!0));var m=(e.rounding||Math.round)(Math.abs(u));if(c=u>0,m<=y.r||!y.r){m<=1&&p>0&&(y=f[p-1]);var g=h[y.l];o&&(m=o(""+m)),l="string"==typeof g?g.replace("%d",m):g(m,s,y.l,c);break}}if(s)return l;var v=c?h.future:h.past;return"function"==typeof v?v(l):v.replace("%s",l)},s.to=function(e,t){return i(e,t,this,!0)},s.from=function(e,t){return i(e,t,this)};var a=function(e){return e.$u?r.utc():r()};s.toNow=function(e){return this.to(a(this),e)},s.fromNow=function(e){return this.from(a(this),e)}}},421781,(e,t,r)=>{e.e,t.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(s,n,i){var a=n.prototype;i.utc=function(e){var t={date:e,utc:!0,args:arguments};return new n(t)},a.utc=function(t){var r=i(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},a.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var o=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var u=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else u.call(this)};var l=a.utcOffset;a.utcOffset=function(s,n){var i=this.$utils().u;if(i(s))return this.$u?0:i(this.$offset)?l.call(this):this.$offset;if("string"==typeof s&&null===(s=function(e){void 0===e&&(e="");var s=e.match(t);if(!s)return null;var n=(""+s[0]).match(r)||["-",0,0],i=n[0],a=60*n[1]+ +n[2];return 0===a?0:"+"===i?a:-a}(s)))return this;var a=16>=Math.abs(s)?60*s:s,o=this;if(n)return o.$offset=a,o.$u=0===s,o;if(0!==s){var u=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(a+u,e)).$offset=a,o.$x.$localOffset=u}else o=this.utc();return o};var c=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var h=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var f=a.diff;a.diff=function(e,t,r){if(e&&this.$u===e.$u)return f.call(this,e,t,r);var s=this.local(),n=i(e).local();return f.call(s,n,t,r)}}}()},312048,e=>{"use strict";var t,r=e.i(991435),s=((t=s||{})[t.Commands=0]="Commands",t[t.Component=1]="Component",t);let n=e=>0===e.type,i=e=>1===e.type,a=()=>{let e=(0,r.proxy)({commandPages:{},pageStack:[],registerNewPage:(t,r)=>(e.commandPages[t]=r,()=>{e.pageStack=e.pageStack.filter(e=>e!==t),delete e.commandPages[t]}),appendPageStack:t=>t in e.commandPages&&e.pageStack.at(-1)!==t&&e.pageStack.push(t),popPageStack:()=>e.pageStack.pop()});return e};e.s(["PageType",()=>s,"initPagesState",()=>a,"isCommandsPage",()=>n,"isComponentPage",()=>i])},482602,e=>{"use strict";let t=(0,e.i(388019).default)("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);e.s(["Blocks",()=>t],482602)},920474,104645,e=>{"use strict";var t=e.i(389959),r=e.i(416785);let s=(0,t.createContext)(void 0),n=()=>{let e=(0,t.useContext)(s);if(!e)throw Error("`useCommandContext` must be used within a `CommandProvider`");return e};e.s(["CommandContext",()=>s,"useCommandContext",()=>n],104645);let i=()=>{let{viewState:e}=n(),{initiated:t}=(0,r.useSnapshot)(e);return t},a=()=>{let{viewState:e}=n(),{open:t}=(0,r.useSnapshot)(e);return t},o=()=>{let{viewState:e}=n(),{setOpen:t}=(0,r.useSnapshot)(e);return t},u=()=>{let{viewState:e}=n(),{toggleOpen:t}=(0,r.useSnapshot)(e);return t},l=()=>{let{viewState:e}=n(),{size:t}=(0,r.useSnapshot)(e);return t},c=e=>{let{viewState:s}=n(),{setSize:i,size:a}=(0,r.useSnapshot)(s),o=(0,t.useRef)(a);(0,t.useLayoutEffect)(()=>(i(e),()=>i(o.current)),[i])},h=()=>{let{viewState:e}=n(),{setTouchHandlers:t}=(0,r.useSnapshot)(e);return t},f=()=>{let{viewState:e}=n(),{touchHandlers:t}=(0,r.useSnapshot)(e);return t};e.s(["useCommandMenuInitiated",()=>i,"useCommandMenuOpen",()=>a,"useCommandMenuSize",()=>l,"useCommandMenuTouchGestures",()=>f,"useSetCommandMenuOpen",()=>o,"useSetCommandMenuSize",()=>c,"useSetupCommandMenuTouchEvents",()=>h,"useToggleCommandMenu",()=>u],920474)},879148,e=>{"use strict";var t=e.i(389959);let r=(0,t.createContext)(null);function s(){return(0,t.useContext)(r)}e.s(["CommandMenuTelemetryContext",()=>r,"useCommandMenuTelemetryContext",()=>s])},681328,e=>{"use strict";function t(){}e.s(["EMPTY_ARR",0,[],"EMPTY_OBJ",0,{},"noop",()=>t])},17203,e=>{"use strict";var t=e.i(672483);e.s(["ExternalLink",()=>t.default])},659261,e=>{"use strict";var t=e.i(389959);let r=(0,t.createContext)(null),s={didCatch:!1,error:null};class n extends t.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=s}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,r,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];null==(t=(r=this.props).onReset)||t.call(r,{args:i,reason:"imperative-api"}),this.setState(s)}}componentDidCatch(e,t){var r,s;null==(r=(s=this.props).onError)||r.call(s,e,t)}componentDidUpdate(e,t){let{didCatch:r}=this.state,{resetKeys:n}=this.props;if(r&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,r)=>!Object.is(e,t[r]))}(e.resetKeys,n)){var i,a;null==(i=(a=this.props).onReset)||i.call(a,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(s)}}render(){let{children:e,fallbackRender:s,FallbackComponent:n,fallback:i}=this.props,{didCatch:a,error:o}=this.state,u=e;if(a){let e={error:o,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof s)u=s(e);else if(n)u=(0,t.createElement)(n,e);else if(null===i||(0,t.isValidElement)(i))u=i;else throw o}return(0,t.createElement)(r.Provider,{value:{didCatch:a,error:o,resetErrorBoundary:this.resetErrorBoundary}},u)}}e.s(["ErrorBoundary",()=>n])},543851,e=>{"use strict";let t=(0,e.i(388019).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],543851)},912793,e=>{"use strict";e.i(128328);var t=e.i(67818),r=e.i(432478);function s(e){let{profile:s}=(0,r.useProfile)(),n=s?.disabled_features;return Array.isArray(e),(0,t.isFeatureEnabled)(e,n)}e.s(["useIsFeatureEnabled",()=>s])},124416,e=>{"use strict";var t=e.i(242882),r=e.i(356003),s=e.i(389959);function n(e,t){let[r,n]=(0,s.useState)(()=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return console.log(e),t}}),i=(0,s.useCallback)(t=>{try{let s=t instanceof Function?t(r):t;n(s),window.localStorage.setItem(e,JSON.stringify(s))}catch(e){console.log(e)}},[e,r]);return[r,i]}function i(e,s){let n=(0,r.useQueryClient)(),i=["localStorage",e],{error:a,data:o=s,isSuccess:u,isLoading:l,isError:c}=(0,t.useQuery)({queryKey:i,queryFn:()=>{let t=window.localStorage.getItem(e);return t?JSON.parse(t):s}});return[o,t=>{let r=t instanceof Function?t(o):t;window.localStorage.setItem(e,JSON.stringify(r)),n.setQueryData(i,r),n.invalidateQueries({queryKey:i})},{isSuccess:u,isLoading:l,isError:c,error:a}]}e.s(["useLocalStorage",()=>n,"useLocalStorageQuery",()=>i])},937180,(e,t,r)=>{"use strict";var s,n=e.e&&e.e.__classPrivateFieldGet||function(e,t,r,s){if("a"===r&&!s)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)},i=e.e&&e.e.__classPrivateFieldSet||function(e,t,r,s,n){if("m"===s)throw TypeError("Private method is not writable");if("a"===s&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(e,r):n?n.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenData=void 0,r.parse=p,r.compile=function(e,t={}){let{encode:r=encodeURIComponent,delimiter:s="/"}=t,n=function e(t,r,s){let n=t.map(t=>(function(t,r,s){if("text"===t.type)return()=>[t.value];if("group"===t.type){let n=e(t.tokens,r,s);return e=>{let[t,...r]=n(e);return r.length?[""]:[t]}}let n=s||a;return"wildcard"===t.type&&!1!==s?e=>{let s=e[t.name];if(null==s)return["",t.name];if(!Array.isArray(s)||0===s.length)throw TypeError(`Expected "${t.name}" to be a non-empty array`);return[s.map((e,r)=>{if("string"!=typeof e)throw TypeError(`Expected "${t.name}/${r}" to be a string`);return n(e)}).join(r)]}:e=>{let r=e[t.name];if(null==r)return["",t.name];if("string"!=typeof r)throw TypeError(`Expected "${t.name}" to be a string`);return[n(r)]}})(t,r,s));return e=>{let t=[""];for(let r of n){let[s,...n]=r(e);t[0]+=s,t.push(...n)}return t}}((e instanceof d?e:p(e,t)).tokens,s,r);return function(e={}){let[t,...r]=n(e);if(r.length)throw TypeError(`Missing parameters: ${r.join(", ")}`);return t}},r.match=function(e,t={}){let{decode:r=decodeURIComponent,delimiter:s="/"}=t,{regexp:n,keys:i}=y(e,t),o=i.map(e=>!1===r?a:"param"===e.type?r:e=>e.split(s).map(r));return function(e){let t=n.exec(e);if(!t)return!1;let r=t[0],s=Object.create(null);for(let e=1;e<t.length;e++){if(void 0===t[e])continue;let r=i[e-1],n=o[e-1];s[r.name]=n(t[e])}return{path:r,params:s}}},r.pathToRegexp=y,r.stringify=function(e){return e.tokens.map(function e(t,r,s){var n;if("text"===t.type)return t.value.replace(/[{}()\[\]+?!:*]/g,"\\$&");if("group"===t.type)return`{${t.tokens.map(e).join("")}}`;let i=function(e){let[t,...r]=e;return!!o.test(t)&&r.every(e=>u.test(e))}(t.name)&&(n=s[r+1],n?.type!=="text"||!u.test(n.value[0]))?t.name:JSON.stringify(t.name);if("param"===t.type)return`:${i}`;if("wildcard"===t.type)return`*${i}`;throw TypeError(`Unexpected token: ${t}`)}).join("")};let a=e=>e,o=/^[$_\p{ID_Start}]$/u,u=/^[$\u200c\u200d\p{ID_Continue}]$/u,l="https://git.new/pathToRegexpError",c={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function h(e){return e.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}class f{constructor(e){this.tokens=e,s.set(this,void 0)}peek(){if(!n(this,s,"f")){let e=this.tokens.next();i(this,s,e.value,"f")}return n(this,s,"f")}tryConsume(e){let t=this.peek();if(t.type===e)return i(this,s,void 0,"f"),t.value}consume(e){let t=this.tryConsume(e);if(void 0!==t)return t;let{type:r,index:s}=this.peek();throw TypeError(`Unexpected ${r} at ${s}, expected ${e}: ${l}`)}text(){let e,t="";for(;e=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)t+=e;return t}}s=new WeakMap;class d{constructor(e){this.tokens=e}}function p(e,t={}){let{encodePath:r=a}=t,s=new f(function*(e){let t=[...e],r=0;function s(){let e="";if(o.test(t[++r]))for(e+=t[r];u.test(t[++r]);)e+=t[r];else if('"'===t[r]){let s=r;for(;r<t.length;){if('"'===t[++r]){r++,s=0;break}"\\"===t[r]?e+=t[++r]:e+=t[r]}if(s)throw TypeError(`Unterminated quote at ${s}: ${l}`)}if(!e)throw TypeError(`Missing parameter name at ${r}: ${l}`);return e}for(;r<t.length;){let e=t[r],n=c[e];if(n)yield{type:n,index:r++,value:e};else if("\\"===e)yield{type:"ESCAPED",index:r++,value:t[r++]};else if(":"===e){let e=s();yield{type:"PARAM",index:r,value:e}}else if("*"===e){let e=s();yield{type:"WILDCARD",index:r,value:e}}else yield{type:"CHAR",index:r,value:t[r++]}}return{type:"END",index:r,value:""}}(e));return new d(function e(t){let n=[];for(;;){let i=s.text();i&&n.push({type:"text",value:r(i)});let a=s.tryConsume("PARAM");if(a){n.push({type:"param",name:a});continue}let o=s.tryConsume("WILDCARD");if(o){n.push({type:"wildcard",name:o});continue}if(s.tryConsume("{")){n.push({type:"group",tokens:e("}")});continue}return s.consume(t),n}}("END"))}r.TokenData=d;function y(e,t={}){let{delimiter:r="/",end:s=!0,sensitive:n=!1,trailing:i=!0}=t,a=[],o=[];for(let{tokens:s}of(Array.isArray(e)?e:[e]).map(e=>e instanceof d?e:p(e,t)))for(let e of function* e(t,r,s){if(r===t.length)return yield s;let n=t[r];if("group"===n.type){let i=s.slice();for(let s of e(n.tokens,0,i))yield*e(t,r+1,s)}else s.push(n);yield*e(t,r+1,s)}(s,0,[])){let t=function(e,t,r){let s="",n="",i=!0;for(let a=0;a<e.length;a++){let o=e[a];if("text"===o.type){s+=h(o.value),n=o.value,i||(i=o.value.includes(t));continue}if("param"===o.type||"wildcard"===o.type){if(!i&&!n)throw TypeError(`Missing text after "${o.name}": ${l}`);"param"===o.type?s+=`(${function(e,t){let r=[e,t].filter(Boolean);return r.every(e=>1===e.length)?`[^${h(r.join(""))}]`:`(?:(?!${r.map(h).join("|")}).)`}(t,i?"":n)}+)`:s+="(.+)",r.push(o),n="",i=!1;continue}}return s}(e,r,a);o.push(t)}let u=`^(?:${o.join("|")})`;return i&&(u+=`(?:${h(r)}$)?`),{regexp:new RegExp(u+=s?"$":`(?=${h(r)}|$)`,n?"s":"is"),keys:a}}},741391,e=>{"use strict";let t;var r=e.i(201844),s=e.i(812082),n=e.i(551390),i=e.i(976149),a=class extends i.Subscribable{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){let i=t.queryKey,a=t.queryHash??(0,r.hashQueryKeyByOptions)(i,t),o=this.get(a);return o||(o=new s.Query({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,r.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,r.matchQuery)(e,t)):t}notify(e){n.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},o=e.i(66863),u=i,l=class extends u.Subscribable{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#r=new Map,this.#s=0}#t;#r;#s;build(e,t,r){let s=new o.Mutation({mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){this.#t.add(e);let t=c(e);if("string"==typeof t){let r=this.#r.get(t);r?r.push(e):this.#r.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){let t=c(e);if("string"==typeof t){let r=this.#r.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#r.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=c(e);if("string"!=typeof t)return!0;{let r=this.#r.get(t),s=r?.find(e=>"pending"===e.state.status);return!s||s===e}}runNext(e){let t=c(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#r.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){n.notifyManager.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#r.clear()})}getAll(){return Array.from(this.#t)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,r.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,r.matchMutation)(e,t))}notify(e){n.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return n.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(r.noop))))}};function c(e){return e.options.scope?.id}var h=e.i(164853),f=e.i(768118),d=e.i(4517),p=class{#n;#i;#a;#o;#u;#l;#c;#h;constructor(e={}){this.#n=e.queryCache||new a,this.#i=e.mutationCache||new l,this.#a=e.defaultOptions||{},this.#o=new Map,this.#u=new Map,this.#l=0}mount(){this.#l++,1===this.#l&&(this.#c=h.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#n.onFocus())}),this.#h=f.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#n.onOnline())}))}unmount(){this.#l--,0===this.#l&&(this.#c?.(),this.#c=void 0,this.#h?.(),this.#h=void 0)}isFetching(e){return this.#n.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#i.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),s=this.#n.build(this,t),n=s.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime((0,r.resolveStaleTime)(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#n.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,s){let n=this.defaultQueryOptions({queryKey:e}),i=this.#n.get(n.queryHash),a=i?.state.data,o=(0,r.functionalUpdate)(t,a);if(void 0!==o)return this.#n.build(this,n).setData(o,{...s,manual:!0})}setQueriesData(e,t,r){return n.notifyManager.batch(()=>this.#n.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state}removeQueries(e){let t=this.#n;n.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#n;return n.notifyManager.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let s={revert:!0,...t};return Promise.all(n.notifyManager.batch(()=>this.#n.findAll(e).map(e=>e.cancel(s)))).then(r.noop).catch(r.noop)}invalidateQueries(e,t={}){return n.notifyManager.batch(()=>(this.#n.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let s={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(n.notifyManager.batch(()=>this.#n.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,s);return s.throwOnError||(t=t.catch(r.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(r.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let s=this.#n.build(this,t);return s.isStaleByTime((0,r.resolveStaleTime)(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(r.noop).catch(r.noop)}fetchInfiniteQuery(e){return e.behavior=(0,d.infiniteQueryBehavior)(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(r.noop).catch(r.noop)}ensureInfiniteQueryData(e){return e.behavior=(0,d.infiniteQueryBehavior)(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return f.onlineManager.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#n}getMutationCache(){return this.#i}getDefaultOptions(){return this.#a}setDefaultOptions(e){this.#a=e}setQueryDefaults(e,t){this.#o.set((0,r.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#o.values()],s={};return t.forEach(t=>{(0,r.partialMatchKey)(e,t.queryKey)&&Object.assign(s,t.defaultOptions)}),s}setMutationDefaults(e,t){this.#u.set((0,r.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#u.values()],s={};return t.forEach(t=>{(0,r.partialMatchKey)(e,t.mutationKey)&&Object.assign(s,t.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#a.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,r.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===r.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#a.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#n.clear(),this.#i.clear()}},y=e.i(937180),m=e.i(389959),g=e.i(10429);e.i(56031);var v=e.i(237948);g.IS_PLATFORM||f.onlineManager.setOnline(!0);let E=["/platform/projects/:ref/run-lints","/platform/organizations/:slug/usage","/platform/pg-meta/:ref/query","/v1/projects/:ref/analytics/endpoints/logs.all"].map(e=>(0,y.match)(e));function C(){let e=t??new p({defaultOptions:{queries:{staleTime:6e4,retry:(e,t)=>!(t instanceof v.ResponseError&&void 0!==t.code&&t.code>=400&&t.code<500&&429!==t.code||t instanceof v.ResponseError&&t.requestPathname&&E.some(e=>e(t.requestPathname))&&429!==t.code)&&e<3,retryDelay:(e,t)=>t instanceof v.ResponseError&&t.retryAfter?1e3*t.retryAfter:Math.min(1e3*2**e,3e4)}}});return t||(t=e),t}function b(){let[e]=(0,m.useState)(()=>C());return e}e.s(["MAX_RETRY_FAILURE_COUNT",0,3,"getQueryClient",()=>C,"useRootQueryClient",()=>b],741391)}]);

//# debugId=9190d412-ca1b-3aae-6341-45cd9c6d7d5c
//# sourceMappingURL=8fac65d2857edb37.js.map